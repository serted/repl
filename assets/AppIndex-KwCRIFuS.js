import{_ as R,c as F,o as m,f as N,r as U,U as I,b as s,V as D,w as i,au as M,j as w,a as C,Y as z,N as A,y as g,av as L,a4 as T,Z as j,F as H,d as O,i as v,$ as Y,a2 as b,E as Z,e as E,a6 as p,aw as G,ax as J,ay as K,a7 as P,g as W,S as X,az as ee,M as oe,n as ae}from"./index-C3VaJCuS.js";/* empty css                     */const se={class:"registerForm cBox"},ne={class:"alreadyAccount"},te={class:"contactSupport"},le=N({__name:"RegisterForm",props:{sysConfig:{},regConfig:{}},setup(S){const y=P(),u=S,h=U([]),e=I({username:"",password:"",o_password:"",currency:"",verify:"",phone:"",qq:"",telegram:"",email:"",name:""}),B=I({}),_=async()=>{var l,a,c,d,x,k,V,q,o,t;if(e.username==="")return p.warning("请输入用户名称"),!1;if(e.password==="")return p.warning("请输入登录密码"),!1;if(e.o_password==="")return p.warning("请输入确认登录密码"),!1;if(e.currency==="")return p.warning("请选择货币"),!1;if(((l=u.regConfig)==null?void 0:l.name.status)===1&&((a=u.regConfig)==null?void 0:a.name.status_s)===1&&e.name==="")return p.warning("请输入真实姓名"),!1;if(((c=u.regConfig)==null?void 0:c.phone.status)===1&&((d=u.regConfig)==null?void 0:d.phone.status_s)===1&&e.phone==="")return p.warning("请输入手机号"),!1;if(((x=u.regConfig)==null?void 0:x.qq.status)===1&&((k=u.regConfig)==null?void 0:k.qq.status_s)===1&&e.qq==="")return p.warning("请输入QQ"),!1;if(((V=u.regConfig)==null?void 0:V.telegram.status)===1&&((q=u.regConfig)==null?void 0:q.telegram.status_s)===1&&e.telegram==="")return p.warning("请输入Telegram"),!1;if(((o=u.regConfig)==null?void 0:o.email.status)===1&&((t=u.regConfig)==null?void 0:t.email.status_s)===1&&e.email==="")return p.warning("请输入电子邮箱"),!1;try{const n=await G({...e}),{access_token:r,expires_in:f}=n;J(r),p.success("成功");let Q=new Date().getTime();K(String(f+Q-3600*24)),y.push("/")}catch(n){console.log(n)}},$=()=>{y.push("/login")};return(async()=>{const l=await M();h.value=l.data})(),(l,a)=>{const c=A,d=z,x=Y,k=j,V=Z,q=D;return m(),F("div",se,[s(q,{ref:"ruleFormRef",model:e,rules:B,"label-width":"auto",size:"large","status-icon":""},{default:i(()=>[s(d,null,{default:i(()=>[s(c,{modelValue:e.username,"onUpdate:modelValue":a[0]||(a[0]=o=>e.username=o),placeholder:"请输入用户名称(必填)","prefix-icon":g(L)},null,8,["modelValue","prefix-icon"])]),_:1}),s(d,null,{default:i(()=>[s(c,{modelValue:e.password,"onUpdate:modelValue":a[1]||(a[1]=o=>e.password=o),placeholder:"请输入登录密码(必填)","prefix-icon":g(T)},null,8,["modelValue","prefix-icon"])]),_:1}),s(d,null,{default:i(()=>[s(c,{modelValue:e.o_password,"onUpdate:modelValue":a[2]||(a[2]=o=>e.o_password=o),placeholder:"确认登录密码(必填)","prefix-icon":g(T)},null,8,["modelValue","prefix-icon"])]),_:1}),s(d,null,{default:i(()=>[s(k,{modelValue:e.currency,"onUpdate:modelValue":a[3]||(a[3]=o=>e.currency=o),placeholder:"请选择货币(必填)"},{default:i(()=>[(m(!0),F(H,null,O(h.value,o=>(m(),v(x,{key:o.id,label:o.title,value:o.code},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),s(d,null,{default:i(()=>{var o,t,n,r;return[((t=(o=l.regConfig)==null?void 0:o.name)==null?void 0:t.status)==1?(m(),v(c,{key:0,modelValue:e.name,"onUpdate:modelValue":a[4]||(a[4]=f=>e.name=f),placeholder:"真实姓名("+(((r=(n=l.regConfig)==null?void 0:n.name)==null?void 0:r.status_s)==1?"必填":"选填")+")","prefix-icon":g(L)},null,8,["modelValue","placeholder","prefix-icon"])):w("",!0)]}),_:1}),s(d,null,{default:i(()=>{var o,t,n,r;return[((t=(o=l.regConfig)==null?void 0:o.phone)==null?void 0:t.status)==1?(m(),v(c,{key:0,modelValue:e.phone,"onUpdate:modelValue":a[5]||(a[5]=f=>e.phone=f),placeholder:"手机号码("+(((r=(n=l.regConfig)==null?void 0:n.phone)==null?void 0:r.status_s)==1?"必填":"选填")+")","prefix-icon":g(b)},null,8,["modelValue","placeholder","prefix-icon"])):w("",!0)]}),_:1}),s(d,null,{default:i(()=>{var o,t,n,r;return[((t=(o=l.regConfig)==null?void 0:o.qq)==null?void 0:t.status)==1?(m(),v(c,{key:0,modelValue:e.qq,"onUpdate:modelValue":a[6]||(a[6]=f=>e.qq=f),placeholder:"QQ("+(((r=(n=l.regConfig)==null?void 0:n.qq)==null?void 0:r.status_s)==1?"必填":"选填")+")","prefix-icon":g(b)},null,8,["modelValue","placeholder","prefix-icon"])):w("",!0)]}),_:1}),s(d,null,{default:i(()=>{var o,t,n,r;return[((t=(o=l.regConfig)==null?void 0:o.telegram)==null?void 0:t.status)==1?(m(),v(c,{key:0,modelValue:e.telegram,"onUpdate:modelValue":a[7]||(a[7]=f=>e.telegram=f),placeholder:"Telegram("+(((r=(n=l.regConfig)==null?void 0:n.telegram)==null?void 0:r.status_s)==1?"必填":"选填")+")","prefix-icon":g(b)},null,8,["modelValue","placeholder","prefix-icon"])):w("",!0)]}),_:1}),s(d,null,{default:i(()=>{var o,t,n,r;return[((t=(o=l.regConfig)==null?void 0:o.email)==null?void 0:t.status)==1?(m(),v(c,{key:0,modelValue:e.email,"onUpdate:modelValue":a[8]||(a[8]=f=>e.email=f),placeholder:"电子邮箱("+(((r=(n=l.regConfig)==null?void 0:n.email)==null?void 0:r.status_s)==1?"必填":"选填")+")","prefix-icon":g(b)},null,8,["modelValue","placeholder","prefix-icon"])):w("",!0)]}),_:1}),w("",!0),s(d,null,{default:i(()=>[s(V,{type:"primary",onClick:_,style:{width:"100%"}},{default:i(()=>a[10]||(a[10]=[E("注册")])),_:1})]),_:1}),C("p",ne,[s(V,{type:"primary",onClick:$,link:""},{default:i(()=>a[11]||(a[11]=[E("已有账号？立即登录")])),_:1})]),C("p",te,[s(V,{onClick:l.goToHome,link:""},{default:i(()=>a[12]||(a[12]=[E("先去逛逛")])),_:1},8,["onClick"])])]),_:1},8,["model","rules"])])}}}),re=R(le,[["__scopeId","data-v-0a21f6b6"]]),ie={class:"register_content"},ue={class:"logos"},de={class:"sLogo"},ce=["src"],fe={class:"register_form"},pe=N({__name:"AppIndex",setup(S){const y=U({}),u=U({}),h=U("");W(async()=>{await e(),await B()});const e=async()=>{const _=await X();y.value=_,h.value=_.pc_register_banner},B=async()=>{const _=await ee({type:"reg_config"});u.value=_};return oe.mock({bLogo:'@image("600x180", "#50B347", "")',sLogo:'@image("600x120", "#FFB8E7", "")'}),(_,$)=>(m(),F("div",{class:"register",style:ae(`background-image: url(${h.value});`)},[C("div",ie,[C("div",ue,[C("div",de,[C("img",{src:y.value.pc_logo},null,8,ce)])]),C("div",fe,[s(re,{sysConfig:y.value,regConfig:u.value},null,8,["sysConfig","regConfig"])])])],4))}}),ye=R(pe,[["__scopeId","data-v-b1968938"]]);export{ye as default};
