import{f as q,D as J,r as s,g as P,J as R,M as X,c as h,a as g,b as e,ai as Y,w as l,q as Z,X as $,v as H,i as k,j as K,Y as Q,Z as ee,F as N,d as U,$ as ae,z as le,y as te,aj as oe,N as se,E as ne,e as ue,V as ce,a6 as V,o as d,ah as ie,_ as re}from"./index-C3VaJCuS.js";/* empty css                     */import{A as de,T as me}from"./ThirdParty-sjrD8BQB.js";import{G as ve,a as pe,b as _e,c as fe,e as ye}from"./deposit-CpTdFJQk.js";const ge={class:"transfer"},we={class:"autotranster"},xe={style:{margin:"20px 0px"}},be=q({__name:"AppIndex",setup(Ee){const{t:B}=J(),T=s(0),w=s(!1),c=s(1),n=s(0),i=s(0),m=s(void 0),I=s([]),x=s([{code:"",id:0,money:0,title:"中心钱包"}]),v=s([]),p=s([]),u=s([]),z=s([]),b=async()=>{const a=(await $())[0];I.value=a,c.value=a.transfer},_=async()=>{const t=await ve({});u.value=t,n.value=0,v.value=[...x.value],p.value=[...u.value],i.value=u.value[0].id},F=async()=>{n.value===0?(v.value=[...u.value],p.value=[...x.value],n.value=u.value[0].id,i.value=0):(n.value=0,v.value=[...x.value],p.value=[...u.value],i.value=u.value[0].id)};P(async()=>{await b(),await _()});const M=async()=>{await fe({})},W=async()=>{try{if(n.value==0){const t=await pe({id:i.value,money:Number(m.value)});V.success("成功"),await b(),await _()}else{const t=await _e({id:n.value,money:Number(m.value)});V.success("成功"),await b(),await _()}}catch(t){console.log(t)}};R(()=>{z.value=[{title:B("centralAccount"),amount:11},{title:B("lockAccount"),amount:11}]});const O=async t=>{let a=t===1?2:1;console.log("-----------",T.value,typeof t,c.value,t,a);const f=await ie.confirm(t==2?"确定要开启免转吗":"确定要关闭开启免转吗").then(()=>!0).catch(()=>!1);if(console.log("comfirm",f),!f)return c.value=a,!1;w.value=!0,await ye({type:t}),V.success("更新成功"),w.value=!1};return X.mock({"items|5":[{"cells|10":[{title:"@word",amount:"@integer(10, 999)"}]}]}).items.map(t=>t.cells),(t,a)=>{const f=Y,C=ae,G=ee,y=Q,r=H,S=le,j=se,D=ne,A=Z,L=ce;return d(),h("div",ge,[a[6]||(a[6]=g("h1",{class:"content_title"},"转换",-1)),g("div",we,[e(f,{modelValue:c.value,"onUpdate:modelValue":a[0]||(a[0]=o=>c.value=o),loading:w.value,size:"large","inline-prompt":"","active-text":"开启免转","inactive-text":"手动转换","active-value":2,"inactive-value":1,onChange:O},null,8,["modelValue","loading"])]),e(de,{data:I.value},null,8,["data"]),e(A,{gutter:20},{default:l(()=>[e(r,{span:24},{default:l(()=>[c.value==1?(d(),k(L,{key:0,"label-position":"top",size:"large",style:{"margin-top":"12px"}},{default:l(()=>[e(A,{gutter:20},{default:l(()=>[e(r,{span:5},{default:l(()=>[e(y,{label:"转出"},{default:l(()=>[e(G,{modelValue:n.value,"onUpdate:modelValue":a[1]||(a[1]=o=>n.value=o),placeholder:"请选择"},{default:l(()=>[(d(!0),h(N,null,U(v.value,(o,E)=>(d(),k(C,{key:E,label:o.title,value:o.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(r,{span:2},{default:l(()=>[a[4]||(a[4]=g("div",{style:{height:"20px",width:"20px"}},null,-1)),e(S,{size:38,color:"#409eff",onClick:F},{default:l(()=>[e(te(oe))]),_:1})]),_:1}),e(r,{span:5},{default:l(()=>[e(y,{label:"转入"},{default:l(()=>[e(G,{modelValue:i.value,"onUpdate:modelValue":a[2]||(a[2]=o=>i.value=o),placeholder:"请选择"},{default:l(()=>[(d(!0),h(N,null,U(p.value,(o,E)=>(d(),k(C,{key:E,label:o.title,value:o.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(r,{span:6},{default:l(()=>[e(y,{label:"转换金额"},{default:l(()=>[e(j,{modelValue:m.value,"onUpdate:modelValue":a[3]||(a[3]=o=>m.value=o),placeholder:"请输入"},null,8,["modelValue"])]),_:1})]),_:1}),e(r,{span:6},{default:l(()=>[e(y,{style:{"margin-top":"30px"}},{default:l(()=>[e(D,{type:"primary",size:"large",onClick:W,style:{width:"100%"}},{default:l(()=>a[5]||(a[5]=[ue("确认转换")])),_:1})]),_:1})]),_:1})]),_:1})]),_:1})):K("",!0)]),_:1})]),_:1}),g("div",xe,[e(me,{data:u.value,onOnUpdateBalance:_,onOnGameBack:M},null,8,["data"])])])}}}),Ie=re(be,[["__scopeId","data-v-52d15558"]]);export{Ie as default};
